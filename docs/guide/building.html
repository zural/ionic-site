<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Ionic makes it incredibly easy to build beautiful and interactive mobile apps using HTML5 and AngularJS.">
<meta name="keywords" content="html5,javascript,mobile,drifty,ionic,hybrid,phonegap,cordova,native,ios,android,angularjs">
<meta name="author" content="Drifty">
<meta property="og:image" content="http://ionicframework.com/img/ionic-logo-blog.png"/>

    <title>Building out your app - Ionic Framework</title>
    <link href="/css/site.css?11" rel="stylesheet">
<!--<script src="//cdn.optimizely.com/js/595530035.js"></script>-->
<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44023830-1', 'ionicframework.com');
  ga('send', 'pageview');

</script>


<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

  </head>

  <body class="docs docs-page docs-guide">

    <nav class="navbar navbar-default horizontal-gradient" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle button ionic" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <i class="icon ion-navicon"></i>
      </button>
      <a class="navbar-brand" href="/">
        
          <img src="/img/ionic-logo-white.svg" width="123" height="43" alt="Ionic Framework">
        
      </a>
    </div>

    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a class="products-nav nav-link" href="http://ionic.io/">Products</a></li>
        <li><a class="getting-started-nav nav-link" href="/getting-started/">Getting Started</a></li>
        <li><a class="docs-nav nav-link" href="/docs/">Docs</a></li>
        <li><a class="examples-nav nav-link" href="http://showcase.ionicframework.com/">Showcase</a></li>
        <li><a class="nav-link" href="http://forum.ionicframework.com/">Forum</a></li>
        <li><a class="blog-nav nav-link" href="/blog/">Blog <span id="blog-badge">1</span></a></li>
      </ul>
    </div>
  </div>
</nav>


    <div class="header horizontal-gradient">
  <div class="container">
    <h3>Building out your app</h3>
    <h4>How to get the most out of Ionic.</h4>
  </div>
  <div class="news">
    <div class="container">
      <div class="row">
        <div class="col-sm-8 news-col">
          Check out our <a href="/docs/guide/">Guide</a>, which covers all the basics of setting up.
        </div>
        <div class="col-sm-4 search-col">
          <div class="search-bar">
  <span class="search-icon ionic"><i class="ion-ios7-search-strong"></i></span>
  <input type="search" id="search-input" value="Search">
</div>

        </div>
      </div>
    </div>
  </div>
</div>

<div id="search-results" class="search-results" style="display:none">
  <div class="container">
    <div class="search-section search-api">
      <h4>JavaScript</h4>
      <ul id="results-api"></ul>
    </div>
    <div class="search-section search-css">
      <h4>CSS</h4>
      <ul id="results-css"></ul>
    </div>
    <div class="search-section search-content">
      <h4>Resources</h4>
      <ul id="results-content"></ul>
    </div>
  </div>
</div>



    <div class="container content-container">

      <div class="row">

        <div class="col-md-2 col-sm-3 aside-menu">

          <div class="docked-menu">

            <ul class="nav left-menu">
              <li class="menu-title">
                <a href="/docs/overview/">Overview</a>
              </li>
            </ul>

            <ul class="nav left-menu">
              <li class="menu-title">
                <a href="/docs/components/">CSS</a>
              </li>
            </ul>

            <ul class="nav left-menu">
              <li class="menu-title">
                <a href="/docs/api/">JavaScript</a>
              </li>
            </ul>

            <ul class="nav left-menu">
              <li class="menu-title">
                <a href="http://learn.ionicframework.com/">Learn Ionic</a>
              </li>
            </ul>

            <!-- Docs: Guide -->
            <ul class="nav left-menu active-menu">
              <li class="menu-title">
                <a href="/docs/guide/">Guide</a>
              </li>
              <li><a href="/docs/guide/preface.html">1. All About Ionic</a></li>
              <li><a href="/docs/guide/installation.html">2. Installation</a></li>
              <li><a href="/docs/guide/starting.html">3. Starting your app</a></li>
              <li><a href="/docs/guide/testing.html">4. Testing your app</a></li>
              <li><a href="/docs/guide/building.html">5. Building out your app</a></li>
              <li><a href="/docs/guide/publishing.html">6. Publishing your app</a></li>
            </ul>

<ul class="nav left-menu">
  <li class="menu-title">
    <a href="/docs/ionic-cli-faq/">FAQ</a>
  </li>
</ul>
          </div>

        </div>

        <div class="col-md-10 col-sm-9 main-content">
          <p>Previous: <a href="testing.html">Starting our app</a></p>

<h1>Chapter 5: Building out your app</h1>

<p>Now that we know everything there is to know about testing our Ionic apps, and we have a working app shell, let&#39;s move on to actually making some bacon!</p>

<p>So, let&#39;s take another look at our mockup:</p>

<p><img src="http://ionicframework.com.s3.amazonaws.com/guide/0.1.0/3-mockup.png" alt="Mockup"></p>

<p>We can see that both the center content and side menus have lists. Lists in Ionic are very powerful, and come with a lot of different features commonly see in native apps. Luckily, adding them is really simple.</p>

<p>Since we are using AngularJS, we are going to use the <a href="http://docs.angularjs.org/api/ng.directive:ngRepeat"><code>ng-repeat</code></a> directive to create a new list item for every single task we have in a given project:</p>

<p><button type="button" class="btn btn-danger" data-toggle="collapse" data-target="#angular-note">
  AngularJS n00b?
</button></p>

<div id="angular-note" class="collapse well">
<p>
  Never fear! You can pick up the basics with the ever-growing selection of great tutorials on the web. If you like videos, John Lindquist of <a href="http://egghead.io/">egghead.io</a> has a great selection of short, straight-to-the point AngularJS tutorial videos. You can start with Video #1: <a href="http://egghead.io/lessons/angularjs-binding">AngularJS Binding</a>. Matt Frisbie of <a href="http://www.thinkster.io/">Thinkster.io</a> also has a <a href="http://www.thinkster.io/pick/GtaQ0oMGIl/">great selection</a> of tutorials.
</p>
<p>
  One of the toughest parts about learning Angular is not knowing "the way" to do certain things. We hope that by providing a great selection of examples and guides for Ionic, you'll pick up on how to write Angular in practice. There is no better way to learn Angular than by building something real!
</p>
<p>
  Keep in mind, when you see tags that look new, like <code>&lt;ion-content&gt;</code>, those are custom AngularJS <a href="http://docs.angularjs.org/guide/directive">directives</a> that we have added to Ionic to make it
much easier to use Ionic components. They will get expanded by Angular into more lower-level markup, and also controlled by our lower level
Javascript controllers that give them increased functionality.
</p>
</div>

<p>With the list code and the Angular <code>ng-repeat</code>, the center content becomes:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- Center content --&gt;</span>
<span class="nt">&lt;ion-side-menu-content&gt;</span>
  <span class="nt">&lt;ion-header-bar</span> <span class="na">class=</span><span class="s">&quot;bar-dark&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;</span>Todo<span class="nt">&lt;/h1&gt;</span>
  <span class="nt">&lt;/ion-header-bar&gt;</span>
  <span class="nt">&lt;ion-content&gt;</span>
    <span class="c">&lt;!-- our list and list items --&gt;</span>
    <span class="nt">&lt;ion-list&gt;</span>
      <span class="nt">&lt;ion-item</span> <span class="na">ng-repeat=</span><span class="s">&quot;task in tasks&quot;</span><span class="nt">&gt;</span>
        {{task.title}}
      <span class="nt">&lt;/ion-item&gt;</span>
    <span class="nt">&lt;/ion-list&gt;</span>
  <span class="nt">&lt;/ion-content&gt;</span>
<span class="nt">&lt;/ion-side-menu-content&gt;</span>
</code></pre></div>
<p>But this doesn&#39;t do anything yet, because we don&#39;t have any tasks or any code to drive our application. To do this, we need to create an Angular controller and add it to the page. We are going to just use one controller for this app, called <code>TodoCtrl</code>. We are going to add it directly to the body tag:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;body</span> <span class="na">ng-app=</span><span class="s">&quot;todo&quot;</span> <span class="na">ng-controller=</span><span class="s">&quot;TodoCtrl&quot;</span><span class="nt">&gt;</span>
</code></pre></div>
<p>Then, we need to define this controller in our <code>app.js</code> file, and we can add some testing tasks in:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;todo&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;ionic&#39;</span><span class="p">])</span>

<span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">&#39;TodoCtrl&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">tasks</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Collect coins&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Eat mushrooms&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Get high enough to grab the flag&#39;</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Find the Princess&#39;</span> <span class="p">}</span>
  <span class="p">];</span>
<span class="p">});</span>
</code></pre></div>
<p>Run the example again, and we should see our list of very important tasks!</p>

<p><img src="http://ionicframework.com.s3.amazonaws.com/guide/0.1.0/4-list.png" alt="List" style="border: 1px solid #ccc; border-radius: 4px;" alt="Running"></p>

<h2>Creating tasks</h2>

<p>Okay, so we have some testing data for tasks, but what about creating them? We need some ways to do that. Working with our test data, let&#39;s add a simple Modal window that slides up, letting us put in a new task. Place
the following script tag after the closing <code>&lt;/ion-side-menu&gt;</code> tag in the <code>&lt;body&gt;</code> of the HTML file:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">id=</span><span class="s">&quot;new-task.html&quot;</span> <span class="na">type=</span><span class="s">&quot;text/ng-template&quot;</span><span class="nt">&gt;</span>

  <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;modal&quot;</span><span class="o">&gt;</span>

    <span class="c">&lt;!--</span> <span class="nx">Modal</span> <span class="nx">header</span> <span class="nx">bar</span> <span class="o">--&gt;</span>
    <span class="o">&lt;</span><span class="nx">ion</span><span class="o">-</span><span class="nx">header</span><span class="o">-</span><span class="nx">bar</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;bar-secondary&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="o">&gt;</span><span class="nx">New</span> <span class="nx">Task</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
      <span class="o">&lt;</span><span class="nx">button</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;button button-clear button-positive&quot;</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">click</span><span class="o">=</span><span class="s2">&quot;closeNewTask()&quot;</span><span class="o">&gt;</span><span class="nx">Cancel</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
    <span class="o">&lt;</span><span class="err">/ion-header-bar&gt;</span>

    <span class="c">&lt;!--</span> <span class="nx">Modal</span> <span class="nx">content</span> <span class="nx">area</span> <span class="o">--&gt;</span>
    <span class="o">&lt;</span><span class="nx">ion</span><span class="o">-</span><span class="nx">content</span><span class="o">&gt;</span>

      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">submit</span><span class="o">=</span><span class="s2">&quot;createTask(task)&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;list&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">label</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;item item-input&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;What do you need to do?&quot;</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">model</span><span class="o">=</span><span class="s2">&quot;task.title&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="err">/label&gt;</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;padding&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;button button-block button-positive&quot;</span><span class="o">&gt;</span><span class="nx">Create</span> <span class="nx">Task</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>
      <span class="o">&lt;</span><span class="err">/form&gt;</span>

    <span class="o">&lt;</span><span class="err">/ion-content&gt;</span>

  <span class="o">&lt;</span><span class="err">/div&gt;</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<p>There is a lot of information in the above code. First of all, we are defining this template as an Angular template using <code>&lt;script id=&quot;new-task.html&quot; type=&quot;text/ng-template&quot;&gt;</code>. The good thing about Angular templates is they can be loaded from anywhere: locally or remote. The URL of the template is the unique identifier, and if the template is defined locally, it will be fetched locally. Templates are a great way to separate layouts and UIs, so we use them extensively.</p>

<p>We then set a header with a button to close the modal, and then set up our content area. For the form, we are calling <code>createTask(task)</code> when the form is submitted. The <code>task</code> that is passed to <code>createTask</code> is the object corresponding to the entered form data. Since our text input has <code>ng-model=&quot;task.title&quot;</code>, that text input will set the <code>title</code> property of the <code>task</code> object.</p>

<p>In order to trigger the Modal to open, we need a button in the main header bar and some code to open the modal, the center content then becomes:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">{% raw %}
  <span class="c">&lt;!-- Center content --&gt;</span>
  <span class="nt">&lt;ion-side-menu-content&gt;</span>
    <span class="nt">&lt;ion-header-bar</span> <span class="na">class=</span><span class="s">&quot;bar-dark&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;</span>Todo<span class="nt">&lt;/h1&gt;</span>
      <span class="c">&lt;!-- New Task button--&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;button button-icon&quot;</span> <span class="na">ng-click=</span><span class="s">&quot;newTask()&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">&quot;icon ion-compose&quot;</span><span class="nt">&gt;&lt;/i&gt;</span>
      <span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/ion-header-bar&gt;</span>
    <span class="nt">&lt;ion-content&gt;</span>
      <span class="c">&lt;!-- our list and list items --&gt;</span>
      <span class="nt">&lt;ion-list&gt;</span>
        <span class="nt">&lt;ion-item</span> <span class="na">ng-repeat=</span><span class="s">&quot;task in tasks&quot;</span><span class="nt">&gt;</span>
          {{task.title}}
        <span class="nt">&lt;/ion-item&gt;</span>
      <span class="nt">&lt;/ion-list&gt;</span>
    <span class="nt">&lt;/ion-content&gt;</span>
  <span class="nt">&lt;/ion-side-menu-content&gt;</span>
</code></pre></div>
<p>And in our controller code:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;todo&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;ionic&#39;</span><span class="p">])</span>

<span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">&#39;TodoCtrl&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">$ionicModal</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// No need for testing data anymore</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">tasks</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="c1">// Create and load the Modal</span>
  <span class="nx">$ionicModal</span><span class="p">.</span><span class="nx">fromTemplateUrl</span><span class="p">(</span><span class="s1">&#39;new-task.html&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">modal</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">taskModal</span> <span class="o">=</span> <span class="nx">modal</span><span class="p">;</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="nx">scope</span><span class="o">:</span> <span class="nx">$scope</span><span class="p">,</span>
    <span class="nx">animation</span><span class="o">:</span> <span class="s1">&#39;slide-in-up&#39;</span>
  <span class="p">});</span>

  <span class="c1">// Called when the form is submitted</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">createTask</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">task</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
      <span class="nx">title</span><span class="o">:</span> <span class="nx">task</span><span class="p">.</span><span class="nx">title</span>
    <span class="p">});</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">taskModal</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
    <span class="nx">task</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="c1">// Open our new task modal</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">newTask</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">taskModal</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
  <span class="p">};</span>

  <span class="c1">// Close the new task modal</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">closeNewTask</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">taskModal</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
  <span class="p">};</span>
<span class="p">});</span>
</code></pre></div>
<p>Now run the example and try adding a task. It should slide up the modal and then show the new task after submitting it.</p>

<h2>Adding projects</h2>

<p>Now we can add support for adding and selecting projects. To do this, we are going to do a lot of the same work we did for the tasks list. We will add a list to display the projects, and a button to add a new project. We are also going to take the chance to abstract away the <code>Project</code> model into an angular service that will also handle saving and loading our projects and tasks from localStorage.</p>

<p>We are also going to slip in a few more little things to make the app feel right. Specifically, we&#39;ve added support for selecting a project (and showing that it&#39;s selected), and automatically closing the side menu when creating a new project or selecting an existing one.</p>

<p>Here is the new content area markup:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">{% raw %}
<span class="c">&lt;!-- Center content --&gt;</span>
<span class="nt">&lt;ion-side-menu-content&gt;</span>
  <span class="nt">&lt;ion-header-bar</span> <span class="na">class=</span><span class="s">&quot;bar-dark&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;button button-icon&quot;</span> <span class="na">ng-click=</span><span class="s">&quot;toggleProjects()&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">&quot;icon ion-navicon&quot;</span><span class="nt">&gt;&lt;/i&gt;</span>
    <span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;</span>{{activeProject.title}}<span class="nt">&lt;/h1&gt;</span>
    <span class="c">&lt;!-- New Task button--&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;button button-icon&quot;</span> <span class="na">ng-click=</span><span class="s">&quot;newTask()&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">&quot;icon ion-compose&quot;</span><span class="nt">&gt;&lt;/i&gt;</span>
    <span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/ion-header-bar&gt;</span>
  <span class="nt">&lt;ion-content</span> <span class="na">scroll=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ion-list&gt;</span>
      <span class="nt">&lt;ion-item</span> <span class="na">ng-repeat=</span><span class="s">&quot;task in activeProject.tasks&quot;</span><span class="nt">&gt;</span>
        {{task.title}}
      <span class="nt">&lt;/ion-item&gt;</span>
    <span class="nt">&lt;/ion-list&gt;</span>
  <span class="nt">&lt;/ion-content&gt;</span>
<span class="nt">&lt;/ion-side-menu-content&gt;</span>
</code></pre></div>
<p>And the new side menu markup:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">  <span class="c">&lt;!-- Left menu --&gt;</span>
  <span class="nt">&lt;ion-side-menu</span> <span class="na">side=</span><span class="s">&quot;left&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ion-header-bar</span> <span class="na">class=</span><span class="s">&quot;bar-dark&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;</span>Projects<span class="nt">&lt;/h1&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;button button-icon ion-plus&quot;</span> <span class="na">ng-click=</span><span class="s">&quot;newProject()&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/ion-header-bar&gt;</span>
    <span class="nt">&lt;ion-content</span> <span class="na">scroll=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ion-list&gt;</span>
        <span class="nt">&lt;ion-item</span> <span class="na">ng-repeat=</span><span class="s">&quot;project in projects&quot;</span> <span class="na">ng-click=</span><span class="s">&quot;selectProject(project, $index)&quot;</span> <span class="na">ng-class=</span><span class="s">&quot;{active: activeProject == project}&quot;</span><span class="nt">&gt;</span>
          {{project.title}}
        <span class="nt">&lt;/ion-item&gt;</span>
      <span class="nt">&lt;/ion-list&gt;</span>
    <span class="nt">&lt;/ion-content&gt;</span>
  <span class="nt">&lt;/ion-side-menu&gt;</span>
</code></pre></div>
<p>This adds a side menu of projects, letting us click on each project and also add a new one with a small plus icon button in the header bar. The <code>ng-class</code> directive in the <code>&lt;ion-item&gt;</code> makes sure to add the <code>active</code> class to the currently active project.</p>

<p>To enable adding, saving, and loading projects, we&#39;ve had to add a bit of code to the controller. Here is the new version of the <code>app.js</code> file:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;todo&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;ionic&#39;</span><span class="p">])</span>
<span class="cm">/**</span>
<span class="cm"> * The Projects factory handles saving and loading projects</span>
<span class="cm"> * from local storage, and also lets us save and load the</span>
<span class="cm"> * last active project index.</span>
<span class="cm"> */</span>
<span class="p">.</span><span class="nx">factory</span><span class="p">(</span><span class="s1">&#39;Projects&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">all</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">projectString</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">[</span><span class="s1">&#39;projects&#39;</span><span class="p">];</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">projectString</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">fromJson</span><span class="p">(</span><span class="nx">projectString</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="p">[];</span>
    <span class="p">},</span>
    <span class="nx">save</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">projects</span><span class="p">)</span> <span class="p">{</span>
      <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">[</span><span class="s1">&#39;projects&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">toJson</span><span class="p">(</span><span class="nx">projects</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">newProject</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">projectTitle</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Add a new project</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="nx">title</span><span class="o">:</span> <span class="nx">projectTitle</span><span class="p">,</span>
        <span class="nx">tasks</span><span class="o">:</span> <span class="p">[]</span>
      <span class="p">};</span>
    <span class="p">},</span>
    <span class="nx">getLastActiveIndex</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">[</span><span class="s1">&#39;lastActiveProject&#39;</span><span class="p">])</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">setLastActiveIndex</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
      <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">[</span><span class="s1">&#39;lastActiveProject&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">index</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">&#39;TodoCtrl&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">$timeout</span><span class="p">,</span> <span class="nx">$ionicModal</span><span class="p">,</span> <span class="nx">Projects</span><span class="p">,</span> <span class="nx">$ionicSideMenuDelegate</span><span class="p">)</span> <span class="p">{</span>

  <span class="c1">// A utility function for creating a new project</span>
  <span class="c1">// with the given projectTitle</span>
  <span class="kd">var</span> <span class="nx">createProject</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">projectTitle</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">newProject</span> <span class="o">=</span> <span class="nx">Projects</span><span class="p">.</span><span class="nx">newProject</span><span class="p">(</span><span class="nx">projectTitle</span><span class="p">);</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">projects</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">newProject</span><span class="p">);</span>
    <span class="nx">Projects</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">projects</span><span class="p">);</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">selectProject</span><span class="p">(</span><span class="nx">newProject</span><span class="p">,</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">projects</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>


  <span class="c1">// Load or initialize projects</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">projects</span> <span class="o">=</span> <span class="nx">Projects</span><span class="p">.</span><span class="nx">all</span><span class="p">();</span>

  <span class="c1">// Grab the last active, or the first project</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">activeProject</span> <span class="o">=</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">projects</span><span class="p">[</span><span class="nx">Projects</span><span class="p">.</span><span class="nx">getLastActiveIndex</span><span class="p">()];</span>

  <span class="c1">// Called to create a new project</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">newProject</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">projectTitle</span> <span class="o">=</span> <span class="nx">prompt</span><span class="p">(</span><span class="s1">&#39;Project name&#39;</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">projectTitle</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">createProject</span><span class="p">(</span><span class="nx">projectTitle</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="c1">// Called to select the given project</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">selectProject</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">project</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">activeProject</span> <span class="o">=</span> <span class="nx">project</span><span class="p">;</span>
    <span class="nx">Projects</span><span class="p">.</span><span class="nx">setLastActiveIndex</span><span class="p">(</span><span class="nx">index</span><span class="p">);</span>
    <span class="nx">$ionicSideMenuDelegate</span><span class="p">.</span><span class="nx">toggleLeft</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="c1">// Create our modal</span>
  <span class="nx">$ionicModal</span><span class="p">.</span><span class="nx">fromTemplateUrl</span><span class="p">(</span><span class="s1">&#39;new-task.html&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">modal</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">taskModal</span> <span class="o">=</span> <span class="nx">modal</span><span class="p">;</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="nx">scope</span><span class="o">:</span> <span class="nx">$scope</span>
  <span class="p">});</span>

  <span class="nx">$scope</span><span class="p">.</span><span class="nx">createTask</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">task</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">activeProject</span> <span class="o">||</span> <span class="o">!</span><span class="nx">task</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">activeProject</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
      <span class="nx">title</span><span class="o">:</span> <span class="nx">task</span><span class="p">.</span><span class="nx">title</span>
    <span class="p">});</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">taskModal</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>

    <span class="c1">// Inefficient, but save all the projects</span>
    <span class="nx">Projects</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">projects</span><span class="p">);</span>

    <span class="nx">task</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="nx">$scope</span><span class="p">.</span><span class="nx">newTask</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">taskModal</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
  <span class="p">};</span>

  <span class="nx">$scope</span><span class="p">.</span><span class="nx">closeNewTask</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">taskModal</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">$scope</span><span class="p">.</span><span class="nx">toggleProjects</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$ionicSideMenuDelegate</span><span class="p">.</span><span class="nx">toggleLeft</span><span class="p">();</span>
  <span class="p">};</span>


  <span class="c1">// Try to create the first project, make sure to defer</span>
  <span class="c1">// this by using $timeout so everything is initialized</span>
  <span class="c1">// properly</span>
  <span class="nx">$timeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">projects</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">projectTitle</span> <span class="o">=</span> <span class="nx">prompt</span><span class="p">(</span><span class="s1">&#39;Your first project title:&#39;</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">projectTitle</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">createProject</span><span class="p">(</span><span class="nx">projectTitle</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">});</span>

<span class="p">});</span>
</code></pre></div>
<p>I know, that was a lot of code to jump right to, but it&#39;s largely the same concepts from before, just with more details. If you run this version of the app, you should now have a pretty polished and usable multi-project Todo app!</p>

<p><a href="publishing.html">Chapter 6: Publishing your app</a></p>

        </div>

      </div>

    </div>

    <div class="pre-footer">

      <div class="row ionic">

        <div class="col-sm-6 col-a">
          <h4>
            <a href="/getting-started/">Getting started <span class="icon ion-arrow-right-c"></span></a>
          </h4>
          <p>
            Learn more about how Ionic was built, why you should use it, and what's included. We'll cover
            the basics and help you get started from the ground up.
          </p>
        </div>

        <div class="col-sm-6 col-b">
          <h4>
            <a href="/docs/">Documentation <span class="icon ion-arrow-right-c"></span></a>
          </h4>
          <p>
            What are you waiting for? Take a look and get coding! Our documentation covers all you need to know
            to get an app up and running in minutes.
          </p>
        </div>

      </div>

    </div>

    <footer class="footer">

  <nav class="base-links">

    <dl>
      <dt>Docs</dt>
      <dd><a href="http://ionicframework.com/docs/">Documentation</a></dd>
      <dd><a href="http://ionicframework.com/getting-started/">Getting Started</a></dd>
      <dd><a href="http://ionicframework.com/docs/overview/">Overview</a></dd>
      <dd><a href="http://ionicframework.com/docs/components/">Components</a></dd>
      <dd><a href="http://ionicframework.com/docs/api/">JavaScript</a></dd>
      <dd><a href="http://ionicframework.com/submit-issue/">Submit Issue</a></dd>
    </dl>

    <dl>
      <dt>Resources</dt>
      <dd><a href="http://learn.ionicframework.com/">Learn Ionic</a></dd>
      <dd><a href="http://ngcordova.com/">ngCordova</a></dd>
      <dd><a href="http://ionicons.com/">Ionicons</a></dd>
      <dd><a href="http://ionicframework.com/creator/">Creator</a></dd>
      <dd><a href="http://showcase.ionicframework.com/">Showcase</a></dd>
      <dd><a href="http://manning.com/wilken/?a_aid=ionicinactionben&a_bid=1f0a0e1d">The Ionic Book</a></dd>
    </dl>

    <dl>
      <dt>Contribute</dt>
      <dd><a href="http://forum.ionicframework.com/">Community Forum</a></dd>
      <dd><a href="http://webchat.freenode.net/?randomnick=1&amp;channels=%23ionic&amp;uio=d4">Ionic IRC</a></dd>
      <dd><a href="http://ionicframework.com/present-ionic/">Present Ionic</a></dd>
      <dd><a href="http://ionicframework.com/contribute/">Contribute</a></dd>
      <dd><a href="https://github.com/driftyco/ionic-learn/issues/new">Write for us</a></dd>
      <dd><a href="http://www.stickermule.com/user/1070630560/stickers">Ionic Swag</a></dd>
    </dl>

    <dl class="small-break">
      <dt>About</dt>
      <dd><a href="http://ionicframework.com/blog/">Blog</a></dd>
      <dd><a href="http://ionic.io">Services</a></dd>
      <dd><a href="http://drifty.com">Company</a></dd>
      <dd><a href="https://s3.amazonaws.com/ionicframework.com/logo-pack.zip">Logo Pack</a></dd>
      <dd><a href="mailto:hi@ionicframework.com">Contact</a></dd>
      <dd><a href="http://ionicframework.com/jobs/">Jobs</a></dd>
    </dl>

    <dl>
      <dt>Connect</dt>
      <dd><a href="https://twitter.com/IonicFramework">Twitter</a></dd>
      <dd><a href="https://github.com/driftyco/ionic">GitHub</a></dd>
      <dd><a href="https://www.facebook.com/ionicframework">Facebook</a></dd>
      <dd><a href="https://plus.google.com/b/112280728135675018538/+Ionicframework/posts">Google+</a></dd>
      <dd><a href="https://www.youtube.com/channel/UChYheBnVeCfhCmqZfCUdJQw">YouTube</a></dd>
      <dd><a href="https://twitter.com/ionitron">Ionitron</a></dd>
    </dl>

  </nav>

  <div class="newsletter row">

    <div class="newsletter-container">

      <div class="col-sm-7">
        <div class="newsletter-text">Stay in the loop</div>
        <div class="sign-up">Sign up to receive emails for the latest updates, features, and news on the framework.</div>
      </div>

      <form action="http://codiqa.createsend.com/t/t/s/jytylh/" method="post" class="input-group col-sm-5">
        <input id="fieldEmail" name="cm-jytylh-jytylh" class="form-control" type="email" placeholder="Email" required />
        <span class="input-group-btn">
          <button class="btn btn-default" type="submit">Subscribe</button>
        </span>
      </form>

    </div>

  </div>

  <div class="copy">
    <div class="copy-container">
      <p class="authors">
        Code licensed under <a href="/docs/#license">MIT</a>.
        Docs under <a href="https://tldrlegal.com/license/apache-license-2.0-(apache-2.0)">Apache 2</a>
        <span>|</span>
        &copy; 2014 <a href="http://drifty.com/">Drifty Co</a>
      </p>
    </div>
  </div>

</footer>

<script type="text/javascript">
  var _sf_async_config = { uid: 54141, domain: 'ionicframework.com', useCanonical: true };
  (function() {
    function loadChartbeat() {
      window._sf_endpt = (new Date()).getTime();
      var e = document.createElement('script');
      e.setAttribute('language', 'javascript');
      e.setAttribute('type', 'text/javascript');
      e.setAttribute('src','//static.chartbeat.com/js/chartbeat.js');
      document.body.appendChild(e);
    };
    var oldonload = window.onload;
    window.onload = (typeof window.onload != 'function') ?
      loadChartbeat : function() { oldonload(); loadChartbeat(); };
  })();
</script>


    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
<script src="/js/site.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/Cookies.js/0.4.0/cookies.min.js"></script>

<script>
try {
  var d = new Date('2014-12-22 14:08:00 +0000');
  var ts = d.getTime();

  var cd = Cookies.get('_iondj');
  if(cd) {
    cd = JSON.parse(atob(cd));
    if(parseInt(cd.lp) < ts) {
      var bt = document.getElementById('blog-badge');
      bt.style.display = 'block';
    }

    cd.lp = ts;
  } else {
    var bt = document.getElementById('blog-badge');
    bt.style.display = 'block';
    cd = {
      lp: ts
    }
  }

  Cookies.set('_iondj', btoa(JSON.stringify(cd)));
} catch(e) {
}
</script>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


  </body>
</html>
